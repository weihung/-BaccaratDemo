window.__require=function e(a,t,r){function c(i,o){if(!t[i]){if(!a[i]){var l=i.split("/");if(l=l[l.length-1],!a[l]){var s="function"==typeof __require&&__require;if(!o&&s)return s(l,!0);if(n)return n(l,!0);throw new Error("Cannot find module '"+i+"'")}}var d=t[i]={exports:{}};a[i][0].call(d.exports,function(e){return c(a[i][1][e]||e)},d,d.exports,e,a,t,r)}return t[i].exports}for(var n="function"==typeof __require&&__require,i=0;i<r.length;i++)c(r[i]);return c}({Balance:[function(e,a,t){"use strict";cc._RF.push(a,"f4a28llbdNIE5Y8mCvsLYmR","Balance");var r=e("Ws");cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,balanceLabel:cc.Label},start:function(){var e=this;r.on("Balance",function(a){e.balanceLabel.string=(a.balance/100).toFixed(2),e.nameLabel.string=a.username})}}),cc._RF.pop()},{Ws:"Ws"}],BetClick:[function(e,a,t){"use strict";cc._RF.push(a,"21ab3MHnz5DzZXKgCB/79OK","BetClick");var r=e("Global"),c=e("Ws");cc.Class({extends:cc.Component,properties:{button1:cc.Button,button2:cc.Button,action:cc.String},onLoad:function(){var e=this;this.button1.node.on("click",function(){e.click(e.action)},this),this.button2.node.on("click",function(){e.click(e.action)},this)},start:function(){},click:function(e){r.TokenIndex<0||c.send({cmd:"Bet",betType:e,tokenIndex:r.TokenIndex})}}),cc._RF.pop()},{Global:"Global",Ws:"Ws"}],Bet:[function(e,a,t){"use strict";cc._RF.push(a,"9ee1b+6RM9ETYFoHuyI5Wja","Bet");var r=e("Global"),c=e("Ws");cc.Class({extends:cc.Component,properties:{playerWinLayer:cc.Node,playerWinLayerHit:cc.Node,playerWinLayerBet:cc.Node,bankerWinLayer:cc.Node,bankerWinLayerHit:cc.Node,bankerWinLayerBet:cc.Node,equalLayer:cc.Node,equalLayerBet:cc.Node,equalLayerHit:cc.Node,bigLayer:cc.Node,bigLayerBet:cc.Node,bigLayerHit:cc.Node,smallLayer:cc.Node,smallLayerBet:cc.Node,smallLayerHit:cc.Node,playerOddLayer:cc.Node,playerOddLayerBet:cc.Node,playerOddLayerHit:cc.Node,playerEvenLayer:cc.Node,playerEvenLayerBet:cc.Node,playerEvenLayerHit:cc.Node,bankerOddLayer:cc.Node,bankerOddLayerBet:cc.Node,bankerOddLayerHit:cc.Node,bankerEvenLayer:cc.Node,bankerEvenLayerBet:cc.Node,bankerEvenLayerHit:cc.Node,playerPairLayer:cc.Node,playerPairLayerBet:cc.Node,playerPairLayerHit:cc.Node,bankerPairLayer:cc.Node,bankerPairLayerBet:cc.Node,bankerPairLayerHit:cc.Node,playerWinLabel:cc.Label,bankerWinLabel:cc.Label,equalLabel:cc.Label,bigLabel:cc.Label,smallLabel:cc.Label,playerOddLabel:cc.Label,playerEvenLabel:cc.Label,bankerOddLabel:cc.Label,bankerEvenLabel:cc.Label,playerPairLabel:cc.Label,bankerPairLabel:cc.Label},start:function(){var e=this;r.BetLayerReset=function(){e.reset()},c.on("Result",function(a){e.playerWinLayer.active=!a.player,e.playerWinLayerBet.active=!1,e.playerWinLayerHit.active=a.player,e.bankerWinLayer.active=!a.banker,e.bankerWinLayerBet.active=!1,e.bankerWinLayerHit.active=a.banker,e.equalLayer.active=!a.equal,e.equalLayerBet.active=!1,e.equalLayerHit.active=a.equal,e.bigLayer.active=!a.big,e.bigLayerBet.active=!1,e.bigLayerHit.active=a.big,e.smallLayer.active=!a.small,e.smallLayerBet.active=!1,e.smallLayerHit.active=a.small,e.playerOddLayer.active=!a.playerOdd,e.playerOddLayerBet.active=!1,e.playerOddLayerHit.active=a.playerOdd,e.playerEvenLayer.active=!a.playerEven,e.playerEvenLayerBet.active=!1,e.playerEvenLayerHit.active=a.playerEven,e.bankerOddLayer.active=!a.bankerOdd,e.bankerOddLayerBet.active=!1,e.bankerOddLayerHit.active=a.bankerOdd,e.bankerEvenLayer.active=!a.bankerEven,e.bankerEvenLayerBet.active=!1,e.bankerEvenLayerHit.active=a.bankerEven,e.playerPairLayer.active=!a.playerPair,e.playerPairLayerBet.active=!1,e.playerPairLayerHit.active=a.playerPair,e.bankerPairLayer.active=!a.bankerPair,e.bankerPairLayerBet.active=!1,e.bankerPairLayerHit.active=a.bankerPair}),c.on("Bet",function(a){"End"!=a.playMode&&(e.showLabel(a,"Player",e.playerWinLabel,e.playerWinLayer,e.playerWinLayerBet,e.playerWinLayerHit),e.showLabel(a,"Banker",e.bankerWinLabel,e.bankerWinLayer,e.bankerWinLayerBet,e.bankerWinLayerHit),e.showLabel(a,"Equal",e.equalLabel,e.equalLayer,e.equalLayerBet,e.equalLayerHit),e.showLabel(a,"Big",e.bigLabel,e.bigLayer,e.bigLayerBet,e.bigLayerHit),e.showLabel(a,"Small",e.smallLabel,e.smallLayer,e.smallLayerBet,e.smallLayerHit),e.showLabel(a,"PlayerOdd",e.playerOddLabel,e.playerOddLayer,e.playerOddLayerBet,e.playerOddLayerHit),e.showLabel(a,"PlayerEven",e.playerEvenLabel,e.playerEvenLayer,e.playerEvenLayerBet,e.playerEvenLayerHit),e.showLabel(a,"BankerOdd",e.bankerOddLabel,e.bankerOddLayer,e.bankerOddLayerBet,e.bankerOddLayerHit),e.showLabel(a,"BankerEven",e.bankerEvenLabel,e.bankerEvenLayer,e.bankerEvenLayerBet,e.bankerEvenLayerHit),e.showLabel(a,"PlayerPair",e.playerPairLabel,e.playerPairLayer,e.playerPairLayerBet,e.playerPairLayerHit),e.showLabel(a,"BankerPair",e.bankerPairLabel,e.bankerPairLayer,e.bankerPairLayerBet,e.bankerPairLayerHit))})},reset:function(){this.playerWinLayer.active=!0,this.playerWinLayerHit.active=!1,this.bankerWinLayer.active=!0,this.bankerWinLayerHit.active=!1,this.equalLayer.active=!0,this.equalLayerHit.active=!1,this.bigLayer.active=!0,this.bigLayerHit.active=!1,this.smallLayer.active=!0,this.smallLayerHit.active=!1,this.playerOddLayer.active=!0,this.playerOddLayerHit.active=!1,this.playerEvenLayer.active=!0,this.playerEvenLayerHit.active=!1,this.bankerOddLayer.active=!0,this.bankerOddLayerHit.active=!1,this.bankerEvenLayer.active=!0,this.bankerEvenLayerHit.active=!1,this.playerPairLayer.active=!0,this.playerPairLayerHit.active=!1,this.bankerPairLayer.active=!0,this.bankerPairLayerHit.active=!1},click:function(e){r.TokenIndex<0||c.send({cmd:"Bet",betType:e,tokenIndex:r.TokenIndex})},showLabel:function(e,a,t,r,c,n){var i=e.playerBet,o=e.allBet;if(i&&o){var l=(i[a]?i[a]/100:0)+" / "+(o[a]?o[a]/100:0);t.string=l,n.active||(c.active=i[a]>0,r.active=!c.active)}}}),cc._RF.pop()},{Global:"Global",Ws:"Ws"}],ButtonScaler:[function(e,a,t){"use strict";cc._RF.push(a,"57afe4iMaVIaIqofpx7dT27","ButtonScaler");e("Global");cc.Class({extends:cc.Component,properties:{pressedScale:1,transDuration:0},onLoad:function(){self=this,self.initScale=this.node.scale,self.button=self.getComponent(cc.Button),self.scaleDownAction=cc.scaleTo(self.transDuration,self.pressedScale),self.scaleUpAction=cc.scaleTo(self.transDuration,self.initScale)}}),cc._RF.pop()},{Global:"Global"}],CardPic:[function(e,a,t){"use strict";cc._RF.push(a,"67eb12L0dRBw4FTpxvrFDI6","CardPic"),cc.Class({extends:cc.Component,properties:{point:cc.Label,suit:cc.Sprite,mainPic:cc.Sprite,cardBG:cc.Sprite,redTextColor:cc.Color.WHITE,blackTextColor:cc.Color.WHITE,texFrontBG:cc.SpriteFrame,texBackBG:cc.SpriteFrame,texFaces:{default:[],type:cc.SpriteFrame},texSuitBig:{default:[],type:cc.SpriteFrame},texSuitSmall:{default:[],type:cc.SpriteFrame}},init:function(e){var a=e.point>10;this.mainPic.spriteFrame=a?this.texFaces[e.point-10-1]:this.texSuitBig[e.suit],this.point.string=e.pointName,e.isRedSuit?this.point.node.color=this.redTextColor:this.point.node.color=this.blackTextColor,this.suit.spriteFrame=this.texSuitSmall[e.suit]},reveal:function(e){this.point.node.active=e,this.suit.node.active=e,this.mainPic.node.active=e,this.cardBG.spriteFrame=e?this.texFrontBG:this.texBackBG}}),cc._RF.pop()},{}],Card:[function(e,a,t){"use strict";cc._RF.push(a,"36a9a0+czVFNKEUVUzcoXE1","Card");e("Global");var r=e("Ws"),c={H:1,D:3,S:0,C:2},n=["","A","2","3","4","5","6","7","8","9","10","J","Q","K"];cc.Class({extends:cc.Component,properties:{cardPrefab:cc.Prefab,cardAnchors:{default:[],type:cc.Node},cardsLayer:cc.Node,countDownLayer:cc.Node},start:function(){var e=this;this.cardsLayer.active=!1,r.on("Deal",function(a){e.drawCard(a.cards),e.countDownLayer.active=!1})},drawCard:function(e){this.cardsLayer.active=!0;for(var a=0;a<6;a++)if(this.cardAnchors[a].removeAllChildren(),!(a>=e.length||"*"===e[a])){var t=e[a].substring(0,1),r=parseInt(e[a].substring(1)),i={point:r,pointName:n[r],isRedSuit:c[t]%2==1,suit:c[t]},o=cc.instantiate(this.cardPrefab);this.cardAnchors[a].addChild(o),o.position=cc.v2(0,0),o.getComponent("CardPic").init(i)}},update:function(e){}}),cc._RF.pop()},{Global:"Global",Ws:"Ws"}],Config:[function(e,a,t){"use strict";cc._RF.push(a,"6bf2ays0BdGXITKx8nPWl1q","Config");a.exports={apiUrl:"https://blackjack21.hopto.org/v1/",webSocketUrl:"wss://blackjack21.hopto.org/v1/baccarat"},cc._RF.pop()},{}],CountDown:[function(e,a,t){"use strict";cc._RF.push(a,"e67aaSMx1RBHI5t2WZ5iENo","CountDown");var r=e("Ws"),c=e("Global");cc.Class({extends:cc.Component,properties:{countDownLayer:cc.Node,prepareLayer:cc.Node,betLayer:cc.Node,prepareLabel:cc.Label,betLabel:cc.Label,cardsLayer:cc.Node,tableBetLayer:cc.Node},start:function(){var e=this;this.countDownLayer.active=!1,r.on("CmdCountDownPrepare",function(a){c.BetLayerReset(),e.countDownLayer.active=!0,e.cardsLayer.active=!1,e.betLayer.active=!1,e.prepareLayer.active=a.seconds>0,e.prepareLabel.string=a.seconds}),r.on("CountDownBet",function(a){e.countDownLayer.active=!0,e.cardsLayer.active=!1,e.prepareLayer.active=!1,e.betLayer.active=a.seconds>0,e.betLabel.string=a.seconds})}}),cc._RF.pop()},{Global:"Global",Ws:"Ws"}],Global:[function(e,a,t){"use strict";cc._RF.push(a,"9f21cf450hHBL8G2YeXaqar","Global"),a.exports={},cc._RF.pop()},{}],Table:[function(e,a,t){"use strict";cc._RF.push(a,"a7e86IDbmpGdqs6SAdyjFw2","Table");var r=e("Global");cc.Class({extends:cc.Component,onLoad:function(){var e=new URLSearchParams(window.location.search);r.Token=e.get("t"),r.Cards=["D1","H5","S10","C12","D7","S8"],r.TokenIndex=-1},start:function(){},update:function(e){}}),cc._RF.pop()},{Global:"Global"}],TokenButton:[function(e,a,t){"use strict";cc._RF.push(a,"53a33+OcXFFErzLD2XjzKDG","TokenButton");var r=e("Global");cc.Class({extends:cc.Component,properties:{amount:cc.String,label:cc.Label,button:cc.Button,index:cc.Integer},onLoad:function(){this.label.string=this.amount,this.button.node.on("click",this.callback,this)},callback:function(e){r.BetAmount=parseInt(this.amount),r.TokenIndex=parseInt(this.index)},start:function(){}}),cc._RF.pop()},{Global:"Global"}],Token:[function(e,a,t){"use strict";cc._RF.push(a,"785a8aUJYVPNoAb7NfT4vlJ","Token");var r=e("Global");cc.Class({extends:cc.Component,properties:{amount:cc.String,labels:{default:[],type:cc.Label},coinSelectNodes:{default:[],type:cc.Node}},onLoad:function(){r.BetAmount=0,r.TokenIndex=-1},start:function(){},update:function(e){for(var a=0;a<this.labels.length;a++)this.coinSelectNodes[a].active=parseInt(this.labels[a].string)===r.BetAmount}}),cc._RF.pop()},{Global:"Global"}],Ws:[function(e,a,t){"use strict";cc._RF.push(a,"5eeeeggaMRLDrN+tbQlJIx9","Ws");var r,c,n,i=e("Global"),o=e("./config").webSocketUrl,l={};(function e(){(r=new WebSocket(o)).onopen=function(){console.log("connection open"),clearInterval(c),clearTimeout(n),r.send(JSON.stringify({cmd:"Join",table:0}))},r.onclose=function(){console.log("close connection"),setTimeout(function(){e()},1e3),clearInterval(c),clearTimeout(n)},r.onmessage=function(e){console.log(e);var a=JSON.parse(e.data);if(!(a.cmd.status<1))return"GameEnd"===a.cmd?(l.Deal&&l.Deal({cards:a.cards}),void(l.Result&&l.Result(a.result))):void(l[a.cmd]&&l[a.cmd](a))}})(),a.exports={on:function(e,a){l[e]=a},send:function(e){e.token=i.token,r.send(JSON.stringify(e))},reset:function(){l={}}},cc._RF.pop()},{"./config":"Config",Global:"Global"}]},{},["Balance","Bet","BetClick","ButtonScaler","Card","CardPic","Config","CountDown","Global","Table","Token","TokenButton","Ws"]);